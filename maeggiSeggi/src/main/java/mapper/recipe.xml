<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="maeggi.seggi.recipe">
 	<select id="listall" resultType="recipe">
  			select r.name,r.content_intro,r.register_date,m.name
  			from recipe r,ingredients i,member m
  	</select>
 	<select id="recipeSearch" resultType="recipe" parameterType="String">
  			select r.name,r.content_intro,r.register_date,m.name
  			from recipe r,ingredients i,member m
  			where	r.recipe_id=i.recipe_id	and r.member_id=m.member_id
  			  		and name like '%' || #{name} || '%' or '%' || #{ingredient} || '%'
  	</select>
  	<insert id="insert" parameterType="recipe">
  	insert into recipe values(#{recipe_id},#{name},#{content_intro},#{recipe_code},#{recipe_category},#{cook_time},
		#{kcal},#{amount_per_person},#{cook_level},#{ing_category},#{price},
		#{img_url_main},#{img_url_sub},0,0,sysdate,#{member_id}
		
  	</insert>
 </mapper> 