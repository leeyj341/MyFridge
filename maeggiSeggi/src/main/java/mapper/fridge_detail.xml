<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="maeggi.seggi.fridge">
  		<select id="selectAll" resultType="Map" parameterType="String">
  			select rd.*, i.name, i.ig_type_name from refrigerator_detail rd, ingredients i 
  			where i.ingredient_id = rd.ingredient_id and rd.refrigerator_id=#{refrigerator_id}
  		</select>
  		<insert id="insertFridgeDetail" parameterType="Map">
  			insert into refrigerator_detail 
  			values(#{ingredient_id}, #{ig_amount}, sysdate, sysdate, sysdate, sysdate, #{refrigerator_id})
  		</insert>
  		<delete id="deleteFridgeDetail" parameterType="fridgeDetail">
  			delete from refrigerator_detail
  			where refrigerator_id=#{refrigerator_id} and ingredient_id=#{ingredient_id}
  		</delete>
  </mapper>